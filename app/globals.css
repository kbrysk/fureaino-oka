@import "tailwindcss";

:root {
  --background: #f8f6f3;
  --foreground: #2d2d2d;
  --primary: #5b8a72;
  --primary-light: #e8f0ec;
  --accent: #e85d04;
  --danger: #c75c5c;
  --card: #ffffff;
  --border: #e0dcd7;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-light: var(--primary-light);
  --color-accent: var(--accent);
  --color-danger: var(--danger);
  --color-card: var(--card);
  --color-border: var(--border);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Noto Sans JP", Arial, sans-serif;
  overflow-x: hidden;
}

/* ヒーロー背景：人物を左端に（10%）、右半分を光の空間に */
.hero-bg-layer {
  background-size: cover;
  background-repeat: no-repeat;
  background-position: 10% center;
}
@media (max-width: 767px) {
  .hero-bg-layer {
    /* モバイル：顔出しを維持 */
    background-position: 15% center;
  }
}

/* ご夫婦は左端に配置（15% center）・右側はマスクでフェード */
.hero-panorama-bg {
  background-size: cover;
  background-repeat: no-repeat;
  background-position: 15% center;
  mask-image: linear-gradient(to right, black 0%, black 55%, transparent 85%),
    linear-gradient(to bottom, black 0%, black 92%, transparent 100%);
  mask-composite: intersect;
  -webkit-mask-image: linear-gradient(to right, black 0%, black 55%, transparent 85%),
    linear-gradient(to bottom, black 0%, black 92%, transparent 100%);
  -webkit-mask-composite: source-in;
  mask-size: 100% 100%;
  -webkit-mask-size: 100% 100%;
}

/* 右半分を「光のキャンバス」に：左は透過・右へ白の広大なグラデーション */
.hero-panorama-gradient {
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 255, 255, 0.2) 30%,
    rgba(255, 255, 255, 0.7) 55%,
    #fff 75%,
    #fff 100%
  );
}

/* 境界線のないガラス：モバイルは blur-xl で可読性確保、PC は強めのブラー */
.hero-glass-panorama-v2 {
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
}
@media (min-width: 768px) {
  .hero-glass-panorama-v2 {
    backdrop-filter: blur(48px);
    -webkit-backdrop-filter: blur(48px);
  }
}
/* 見出しの複数行をバランス表示（Tailwind にない場合のフォールバック） */
.text-balance {
  text-wrap: balance;
}

/* ヒーロー・テキストエリア：光が透けるグラスモルフィズム */
.hero-glass {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* スプリット・パノラマ右側：薄いガラス（光が可読性を高める） */
.hero-glass-panorama {
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
}

/* CTA：微かに呼吸するパルス（1,000万円級UX） */
@keyframes soft-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}
.animate-soft-pulse {
  animation: soft-pulse 3s ease-in-out infinite;
}

/* CTAリボン：斜めバッジ（オレンジで無料を強調） */
.hero-cta-ribbon {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}

/* CTAボタン：ホバー時に光が走る（サイト背景 #f8f6f3 に馴染む） */
.hero-cta-button::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    105deg,
    transparent 0%,
    transparent 40%,
    rgba(255, 255, 255, 0.35) 45%,
    rgba(248, 246, 243, 0.5) 50%,
    rgba(255, 255, 255, 0.35) 55%,
    transparent 60%,
    transparent 100%
  );
  background-size: 200% 100%;
  background-position: 150% 0;
  border-radius: inherit;
  pointer-events: none;
  transition: background-position 0.6s ease;
}
.hero-cta-button:hover::after {
  background-position: -50% 0;
}

/* 右端・下端をサイト背景へシームレスにフェード */
.hero-bg-mask {
  mask-image: linear-gradient(to right, black 80%, transparent 100%),
    linear-gradient(to bottom, black 88%, transparent 100%);
  mask-composite: intersect;
  -webkit-mask-image: linear-gradient(to right, black 80%, transparent 100%),
    linear-gradient(to bottom, black 88%, transparent 100%);
  -webkit-mask-composite: source-in;
  mask-size: 100% 100%;
  -webkit-mask-size: 100% 100%;
}

/* フッター下の重複表示を防ぐ：レイアウト根を単一のスクロールコンテナに */
html,
body {
  min-height: 100%;
}

/* 記事ページ：見出しを大きく明確に（prose より優先させるため .prose も付与） */
.article-prose.prose h1,
.article-prose.prose h2,
.article-prose.prose h3,
.article-prose.prose h4 {
  font-weight: 700;
  line-height: 1.35;
  color: var(--foreground);
}

/* H2：大見出し（本文の約1.75倍・左ラインでブロック化） */
.article-prose.prose h2 {
  font-size: 1.75rem !important;   /* 28px */
  margin-top: 2.75rem !important;
  margin-bottom: 1rem !important;
  padding: 0.75rem 0 0.5rem 1rem !important;
  border-bottom: none !important;
  border-left: 4px solid var(--primary) !important;
  background: var(--primary-light);
  border-radius: 0 4px 4px 0;
  letter-spacing: 0.02em;
}

@media (min-width: 768px) {
  .article-prose.prose h2 {
    font-size: 1.875rem !important; /* 30px */
  }
}

/* H3：中見出し（本文の約1.35倍） */
.article-prose.prose h3 {
  font-size: 1.375rem !important;  /* 22px */
  margin-top: 2rem !important;
  margin-bottom: 0.75rem !important;
  padding-left: 0.75rem;
  border-left: 3px solid var(--primary);
  font-weight: 600 !important;
  letter-spacing: 0.01em;
}

@media (min-width: 768px) {
  .article-prose.prose h3 {
    font-size: 1.5rem !important;   /* 24px */
  }
}

.article-prose.prose h4 {
  font-size: 1.25rem !important;
  margin-top: 1.5rem !important;
  margin-bottom: 0.5rem !important;
  font-weight: 600 !important;
}

/* 見出し直後の段落は余白をやや詰める */
.article-prose.prose h2 + p,
.article-prose.prose h3 + p {
  margin-top: 0;
}

/* ========== ガイドブック（/guidebook） ========== */
.guidebook-h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--foreground);
  margin-top: 2rem;
  margin-bottom: 0.75rem;
  padding: 0.6rem 0 0.4rem 0.75rem;
  border-left: 4px solid var(--primary);
  background: var(--primary-light);
  border-radius: 0 4px 4px 0;
}
.guidebook-h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--foreground);
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
  padding-left: 0.75rem;
  border-left: 3px solid var(--primary);
}
.guidebook-section {
  margin-bottom: 1.5rem;
}
.guidebook-paragraphs p {
  margin-bottom: 0.5rem;
}

/* 印刷時：ナビ・フッターを非表示（PDF保存しやすくする） */
@media print {
  .no-print {
    display: none !important;
  }
  main {
    padding-bottom: 0 !important;
  }
}

/* 印刷時：ガイドブック用 */
@media print {
  .guidebook .print\:hidden {
    display: none !important;
  }
  .guidebook-article,
  .jikka-jimai-guide {
    max-width: 100%;
  }
  .guidebook-h2,
  .jikka-jimai-prose h2 {
    break-after: avoid;
    page-break-after: avoid;
  }
  .guidebook-h3,
  .jikka-jimai-prose h3 {
    break-after: avoid;
    page-break-after: avoid;
  }
  .guidebook-section {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  .jikka-jimai-prose table {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  .jikka-jimai-prose pre {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  .break-before-page {
    break-before: page;
    page-break-before: always;
  }
}
