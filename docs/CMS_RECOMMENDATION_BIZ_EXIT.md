# CMS 選定の結論（1年後バイアウト前提・改定）

**※microCMS・Sanity・Keystatic の 3 者を「運用効率」「SEO」「事業売却・将来見通し」で比較した詳細は → `docs/CMS_COMPARISON_MICROCMS_SANITY_KEYSTATIC.md` を参照。**

**前提**
- **ゴール**: 1年後に約3,000万円でバイアウト（事業売却）する
- **運用**: 地道にディープリサーチしてコンテンツを追加していく（Gemini → CMS）
- **希望条件**
  1. コンテンツの追加がスムーズに行えること
  2. 事業売却シナリオに即した構成にできること

**契約スタック（変更なし）**: Vercel Pro / **CMS（どちらか1つ）** / Supabase Free / Resend Free。年間有料は Vercel Pro のみ約36,000円。**Keystatic を選ぶ場合は「CMS 契約」が不要**（記事はリポジトリ内のファイルとして管理）。

---

## 結論：どれを選ぶか

| 優先したいこと | 推奨 | 理由 |
|----------------|------|------|
| **資産をすべて Git に集約・売却時はリポジトリ譲渡だけで完結させたい** | **Keystatic** | 記事は .mdx / .json としてリポジトリに保存。外部 CMS 契約なし・譲渡時のアカウント移行不要。管理画面は Next に埋め込み（/keystatic）。 |
| **コストを抑えつつ規模を伸ばす・買い手のDDで説明しやすくしたい** | **Sanity（Free）** | 無料枠が広く（10k doc・100GB帯域）、500記事以上でも追加料金なし。海外標準で買い手の技術DDで説明しやすい。API で一括投入も可能。 |
| **国産・日本語管理画面を最優先したい** | **microCMS（Hobby）** | 管理画面が日本語で使いやすい。記事数は無制限に近いが、転送量 20GB/月 がボトルネック。PV が伸びたら Team（約4,900円/月〜）へ移行を想定。 |

**総合的な第一推奨（外部 CMS を使う場合）**: **Sanity（Free）**

- 1年後にバイアウトする前提では、「無料枠で余裕がある」「買い手が技術調査しやすい」「データ・プロジェクト譲渡が明確」の三点で Sanity が有利。
- コンテンツ追加のスムーズさは、microCMS も Sanity も「管理画面での登録」と「API での一括投入」の両方で実現可能。差は「転送量・ドキュメント数」と「買い手目線の説明のしやすさ」。

---

## 条件ごとの整理

### 1. コンテンツの追加がスムーズに行えること

| 観点 | Sanity | microCMS |
|------|--------|----------|
| **管理画面で1本ずつ追加** | ◎ スタジオで編集。リッチテキスト・画像対応 | ◎ 国産で日本語。フォームが分かりやすい |
| **Gemini 出力のコピペ** | ◎ 本文をそのまま貼り付け可能 | ◎ 同様に貼り付け可能 |
| **API で一括投入** | ◎ GROQ / HTTP API。スクリプトで複数記事を POST 可能 | ◎ REST API。同様に一括投入可能 |
| **スキーマ変更** | ◎ コードでスキーマ定義。フィールド追加が柔軟 | ○ API 設定から変更。運用中も変更可 |

→ **どちらも「スムーズな追加」は満たせる**。運用は「まず管理画面で手動」「必要になったら API で一括」の両方に対応可能。

### 2. 事業売却シナリオに即した構成にできること

| 観点 | Sanity | microCMS |
|------|--------|----------|
| **譲渡のしやすさ** | ◎ プロジェクト単位で譲渡。買い手が Sanity アカウントを引き継ぐ形で完結 | ◎ アカウント譲渡で完結。契約・請求も引き継ぎ可能 |
| **データの持ち出し** | ◎ エクスポート・API で全コンテンツ取得が容易。買い手の DD で「全データ渡せる」と説明しやすい | ○ API で全件取得可能。仕様がシンプルで説明しやすい |
| **買い手の技術理解** | ◎ 海外・国内とも「Headless CMS」として説明が通りやすい。英語ドキュメントが豊富 | ◎ 国産 SaaS として「日本語で契約・サポート」と説明しやすい |
| **コストの見通し** | ◎ 無料枠で 500〜数千記事まで収まりやすい。売却後も買い手が同じプランで継続しやすい | ○ Hobby のままなら 0 円。転送超過で Team 移行時は約4,900円/月〜。買い手に「増えたらこの金額」と説明できる |

→ **どちらも「事業売却に即した構成」にできる**。違いは「無料でどこまで伸ばせるか」と「買い手がどちらのスタックに慣れているか」。

### 3. 500記事以上・地道に追加していく運用

| 項目 | Sanity Free | microCMS Hobby |
|------|-------------|----------------|
| **ドキュメント数** | 10,000 まで無料 | 実質無制限（API 5 個で足りる想定） |
| **転送量** | 100GB/月 まで無料 | 20GB/月。PV 増で超過リスクあり |
| **超過時** | 有料プランへ（必要な場合） | Team 約4,900円/月〜 へ移行が現実的 |
| **ビルド・表示** | ISR・ページネーションで API 呼び出しを抑えられる | 同様に設計可能。転送量がボトルネック |

→ **記事をどんどん増やす前提なら Sanity Free の方が、追加コストなしで余裕を持ちやすい**。

---

## 契約・登録の流れ（再掲）

1. **Vercel** … vercel.com でアカウント作成 → Pro にアップグレード
2. **CMS** … **Sanity を採用する場合**: [sanity.io](https://sanity.io) でアカウント作成 → プロジェクト作成 → API キー・プロジェクト ID を取得。  
   **microCMS を採用する場合**: [microcms.io](https://microcms.io) でアカウント作成 → API 作成（Hobby）
3. **Supabase** … supabase.com でアカウント作成（Free）
4. **Resend** … resend.com でアカウント作成（Free）

---

## まとめ

- **「1年後に3,000万円でバイアウト」かつ「地道にコンテンツを追加していく」** なら、  
  → **第一推奨は Sanity（Free）**。  
  コンテンツ追加のしやすさと、事業売却に即した構成の両方を満たし、無料枠で規模を伸ばしやすい。
- **国産・日本語 UI を最優先する** なら、  
  → **microCMS（Hobby）** で開始し、転送量が気になり次第 Team へ移行する選択でよい。

上記は `docs/TECH_STACK_ALTERNATIVES_M&A_GROWTH.md` の「CMS（記事管理）」および「別途新規で契約すべきツール一覧」と整合しています。**Keystatic を選ぶ場合は「CMS 用の外部契約」が不要**になり、契約ツールは Vercel・Supabase・Resend の3つで済みます。

---

## 補足：Keystatic（Git 直結型）を選んだ場合

「Cursor → GitHub → Vercel」を崩さず、**「記事は MDX/JSON 直書きではなく管理画面で書く」**だけを実現する案として、**Keystatic** の採用は十分ありです。

### 提案のポイントが妥当な理由

| 提案の主張 | 所感 |
|------------|------|
| **GitHub 直結で資産がリポジトリに残る** | ◎ その通り。保存すると .mdx / .json がコミットされ、リポジトリ譲渡＝システム＋全記事がそのまま渡せる。売却時の「アカウント譲渡」「契約切れで記事が消える」リスクがなくなる。 |
| **バイアウト時の資産価値が高い** | ◎ 買い手から見て「コード＋コンテンツが一つのリポジトリで完結」は説明しやすく、DD もシンプル。 |
| **ランニングコスト 0 円** | ◎ CMS 用の外部契約が不要なので、Vercel Pro 以外の固定費を増やさない。 |
| **保存でコミット＆プッシュ → Vercel デプロイ** | ○ GitHub バックエンド利用時は、Keystatic がコミットまで行い、プッシュは設定（GitHub App 等）次第。本番で /keystatic を使う場合は GitHub App のトークン設定が必要。 |

### Keystatic と Sanity の使い分け

| 観点 | Keystatic | Sanity（外部 SaaS） |
|------|-----------|----------------------|
| **資産の所在** | すべて Git リポジトリ内 | Sanity のクラウド（譲渡時はプロジェクト移管） |
| **売却時の手続き** | リポジトリ譲渡のみで完結 | アカウント／プロジェクト譲渡が必要 |
| **CMS 契約・月額** | 不要（0 円） | 無料枠で運用可能 |
| **執筆体験** | /keystatic の管理画面で編集。WordPress 的な UI | Sanity Studio で編集。リッチなカスタム UI |
| **Gemini で大量作成→投入** | スクリプトで .mdx/.json を生成し Git にコミット＆プッシュ。または管理画面に1本ずつ貼り付け | API で一括 POST が容易。管理画面への貼り付けも可 |
| **フクロウの相槌・LINE誘導** | 現状と同様。Keystatic のスキーマで `owlMessages`（配列）を定義し、テンプレートで固定表示する LINE はそのまま | 同様（CMS に owlMessages、LINE はテンプレート側） |

### 現状の記事データ（JSON）との関係

- いまは `content/articles/*.json`（slug, title, body, owlMessages など）を `getArticleBySlug` で読んでいる。
- Keystatic では **collection で「記事」を定義し、保存形式を JSON または MDX（frontmatter＋本文）にできる**。既存のフィールド（body, owlMessages, eyecatch, images）をスキーマに落とせば、移行後も同じ表示・同じコンポーネント（ArticleBodyWithOwl 等）を流用可能。
- 表示側は「ファイルシステムから読む」のを「Keystatic の Reader API から読む」に差し替える形になる。

### 注意したい点（運用イメージ）

- **本番で /keystatic を使う場合**  
  GitHub にコミットする権限が必要なため、通常は **GitHub App または Personal Access Token** を設定する。Keystatic Cloud を使う場合は認証が簡略化される。
- **「Cursor を開かずに執筆」**  
  想定は「手元で `npm run dev` → ブラウザで localhost:3000/keystatic で編集 → 保存でコミット（＋必要ならプッシュ）」か、「本番に /keystatic をデプロイし、認証付きで編集」。いずれも「MDX を Cursor で直書きしない」という目的は満たせる。
- **Gemini で 500 本つくって一気に入れたい場合**  
  Keystatic だと「スクリプトで 500 個の .mdx/.json を生成 → git add & commit & push」が必要。Sanity なら API 一括投入が簡単。どちらも運用でカバー可能。

### まとめ（Keystatic をどう見るか）

- **「外部契約を増やしたくない」「売却時はリポジトリ譲渡だけで完結させたい」** なら、**Keystatic は Sanity より有利**。
- **「Gemini で大量生成 → API で一括投入」を最優先** するなら、Sanity の方が手間が少ない。
- どちらを選んでも、**フクロウの相槌と LINE 誘導（文頭・文末）は現状の設計のまま残せる**。

提案にあった「最強のモダン開発フローを崩さず、MDX 直書きのストレスだけ解消する」という目的に対しては、Keystatic は妥当な解であり、バイアウト前提で「資産を Git に集約したい」なら第一候補の一つとして検討する価値があります。
