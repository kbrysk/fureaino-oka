# ロングテールSEO用コンテンツフォーマット（同型量産の型）

「ハブページ → 一覧カード → 個別詳細LP」の3層構造で、**同じフォーマットを大量に生成しロングテール検索の流入を最大化する**ための型ドキュメント。  
画像のような「東京都」ページ（都道府県見出し＋市区町村カード一覧）は、このフォーマットの**インスタンス1**として実装済み。

---

## 1. フォーマットの型（3層構造）

| 層 | 役割 |  SEO・UX |
|----|------|----------|
| **L1: ハブ** | テーマのトップ。一覧への入口。 | メインKW（例: 地域別 粗大ゴミ・遺品整理）で被リンク・内部リンクの受け皿。 |
| **L2: 一覧** | 同一ハブ内で「項目」をカード表示。 | 都道府県やカテゴリでセクション分けし、各カードが個別LPへリンク。 |
| **L3: 個別LP** | 1項目＝1ページ。ロングテールKW用。 | [地域名] [手続き/キーワード] など、組み合わせで数 hundred〜数千URLを量産。 |

### カード1枚の最小構成（L2で繰り返す単位）

- **見出し**（クリック可能＝個別LPへのリンク）
- **補足1行**（電話番号・窓口・一言説明など）
- **サブリンク**（関連する別LPへのリンク、例: 補助金・片付け相場）

この「カード」を **データ1行** から生成し、グリッドで並べる。

---

## 2. 実装済みインスタンス：地域 × 粗大ゴミ・遺品整理

### データ

- **マスタ**: `content/area-data/areas.csv`（都道府県・市区町村・粗大ゴミURL・電話・備考など）
- **1行** = 1市区町村 = L2のカード1枚 = L3の「メイン＋補助金＋相場」3ページの親

### ページ構成

| 層 | URL例 | ファイル |
|----|--------|----------|
| L1 ハブ | `/area` | `app/area/page.tsx` |
| L2 一覧 | ハブ内セクション「東京都」＋カード一覧 | 同上（`byPrefecture` でグルーピング） |
| L3 メイン | `/area/東京都/世田谷区` | `app/area/[prefecture]/[city]/page.tsx` |
| L3 補助金 | `/area/東京都/世田谷区/subsidy` | `app/area/[prefecture]/[city]/subsidy/page.tsx` |
| L3 相場 | `/area/東京都/世田谷区/cleanup` | `app/area/[prefecture]/[city]/cleanup/page.tsx` |

### L2カードのフォーマット（現状）

- **見出し**: 市区町村名（リンク先 = メインページ）
- **補足**: クリーンセンター等：{電話番号}
- **サブリンク**: 補助金 | 片付け相場（各サブLPへ）

### L3個別LPの共通要素

- タイトル・description に [市区町村名] [テーマ] を入れる（ロングテールKW）
- 地域専用コラム（約200字・都道府県ごとオリジナル）で本文を差別化
- 同一フォーマットのCTA（シミュレーター・診断・見積もりなど）

詳細スキーマは **`docs/PROGRAMMATIC_SEO_SCHEMA.md`** を参照。

---

## 3. 同じフォーマットで増やせる軸（拡張案）

以下のいずれも「**L1ハブ → L2カード一覧 → L3個別LP**」に当てはめて量産可能。

| 軸 | L1ハブ例 | L2カードの「1項目」 | L3個別LPのURL例 | データ源 |
|----|----------|----------------------|------------------|----------|
| **地域 × 手続き**（現行） | 地域別 粗大ゴミ・遺品整理 | 市区町村カード | `/area/[都道府県]/[市区町村]` 等 | areas.csv |
| **地域 × キーワード** | 地域別 生前整理 業者 | 市区町村カード | `/area/[都道府県]/[市区町村]/業者` 等 | 同上 |
| **お悩み × ずらし** | 親 説得 片付け 方法 | シチュエーション別カード | `/articles/親を説得する-片付け` 等 | 記事CSV |
| **手続き × 都道府県** | 都道府県別 空き家 補助金一覧 | 都道府県カード | `/subsidy/[都道府県]` 等 | 都道府県マスタ |

**ポイント**: データを1行追加するだけで、L2のカードが1枚増え、L3の個別LPが1〜3ページ増える形にしておくと、流入最大化がしやすい。

---

## 4. 新規ロングテールフォーマットを追加するときのチェックリスト

1. **マスタを1つ決める**  
   - CSV/JSONの「1行 = 1カード = 1個別LP（または1グループ）」を定義する。
2. **L1ハブを1ページ用意する**  
   - タイトル・説明文・L2一覧（セクション分け可）を同じレイアウトで表示。
3. **L2は「カードの繰り返し」にする**  
   - 見出し（リンク）＋補足1行＋必要ならサブリンク。グリッド（2〜3列）で統一。
4. **L3は動的ルートで生成**  
   - `[param]` でURLを量産し、メタ・H1・本文に「その項目名」を必ず含める。
5. **本文の差別化**  
   - 共通テンプレだけにしない。都道府県別コラムのように、**70%以上オリジナル**のブロックを入れる（別ファイル・別列で管理可）。
6. **内部リンク**  
   - ハブ → カード、カード → 個別LP、個別LP → ハブ・ツール・関連記事を必ず張る。
7. **生成方法**  
   - 静的生成なら `generateStaticParams` でマスタの全行をルートに展開。データ追加＝URL追加になるようにする。

---

## 5. 関連ドキュメント

- **データスキーマ・URL一覧**: `docs/PROGRAMMATIC_SEO_SCHEMA.md`
- **pSEO・PLG全体**: `docs/PSEO_AND_PLG_ROADMAP.md`
- **記事系SEO（お悩みロングテール）**: `docs/SEO_CONTENT_STRATEGY.md` / `docs/SEO_ARTICLE_BRIEF_TEMPLATE.md`

このフォーマットに沿って「ハブ → カード一覧 → 個別LP」を増やしていくことで、同じUI・同じ運用の型でロングテールを大量に増やし、SEO流入を最大化できます。

---

## 6. SEOプロ観点の推奨施策（実装済み・推奨）

プログラムmatic SEO・ロングテールで上位表示を狙ううえで、以下の施策を推奨する。地域L3（個別LP）では **6.1 と 6.2 を実装済み**。

### 6.1 パンくず＋BreadcrumbList スキーマ（実装済み）

- **目的**: サイト階層をGoogleに伝え、検索結果にパンくず表示されやすくする。クローラビリティとユーザー導線の両立。
- **実装**: L3全ページ（メイン・補助金・相場）に `AreaBreadcrumbs` を配置。表示用のパンくずナビと、`BreadcrumbList` の JSON-LD を出力。
- **絶対URL**: `NEXT_PUBLIC_SITE_URL` が設定されていれば JSON-LD の `item.@id` に絶対URLを付与。未設定でも表示パンくずは動作。

### 6.2 L3 → L1 ハブへの戻りリンク（実装済み）

- **目的**: ハブ・スポーク構造を内部リンクで強化し、ハブページへのオーソリティ集約と、ユーザーの「地域一覧へ戻る」導線を確保。
- **実装**: 各L3ページのフッター付近に「← 地域一覧（全国）へ」リンクを追加。ハブ（`/area`）へのリンクを全L3から張る。

### 6.3 メタの差別化（推奨）

- **title**: すでに [市区町村名] [テーマ] で差別化済み。60字前後・主要KWを前半に。
- **description**: 同上で [都道府県][市区町村] を含む。155字前後・クリックを促す一文を入れるとさらに有効。

### 6.4 本文のオリジナル率（実装済み）

- 都道府県ごとに **70%以上オリジナル** の生前整理コラムを配置済み。thin content 化を防ぐ。

### 6.5 内部リンク設計（推奨）

- **ハブ → カード**: ハブページから全L3メインへのリンク（現状のカード一覧で実装済み）。
- **L3 → ハブ**: 上記 6.2 で実装済み。
- **L3 → 兄弟LP**: メインページから補助金・相場へのリンク、補助金・相場からメインへの「← 〇〇の粗大ゴミ・遺品整理ページへ」で実装済み。
- **L3 → ツール**: シミュレーター・診断・見積もりなど CTA で誘導済み。

### 6.6 Sitemap・robots（実装済み）

- **sitemap.xml**: `app/sitemap.ts` で静的ルート＋地域L3全URL（メイン・補助金・相場）＋記事URLを出力。クロール効率とインデックス促進を確保。
- **robots.txt**: `app/robots.ts` で `Allow: /`・`Disallow: /api/` を指定し、`NEXT_PUBLIC_SITE_URL` 設定時に `Sitemap: {base}/sitemap.xml` を付与。
- **ベースURL**: `app/lib/site-url.ts` の `getBaseUrl()` で `NEXT_PUBLIC_SITE_URL` または Vercel の `VERCEL_URL` を参照。本番では必ず設定すること。

### 6.7 その他（今後の検討）

- **canonical**: 同一コンテンツの別URLがなければ通常不要。リダイレクトやパラメータ付きURLがある場合に設定。
- **Core Web Vitals**: LCP・CLS を意識した画像の遅延読み込みやレイアウト固定。現状は軽量なため大きな問題がなければ継続監視でよい。
